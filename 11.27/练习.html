<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        
    const first = () => (new Promise((resolve, reject) => {
        console.log(3);            // 3
        let p = new Promise((resolve, reject) => {
            console.log(7);      // 7
            setTimeout(() => {
                console.log(5);  // 5
                resolve(6);
            }, 1000)    
                resolve(1);  // 如果注释掉  那么结果会变化  先定时器里再resolve(6)      
            
            console.log('主线程2')
        });
        resolve(2);

        console.log('主线程')
        p.then((arg) => {
            console.log(arg);
            console.log('先执行')
        });

    }));

    first().then((arg) => {
        console.log(arg);
        console.log('后执行')
    });
    console.log(4);     // 4
        
        
        
</script>
</body>
</html>