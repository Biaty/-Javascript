### 拖拽
> 知识点
1. offset() -> 绝对位置
   position()   ->  基于父级的(offset)
2. pageX - offset().left



>问题
1. 拖拽时 重影 ,影子会越来越多
解放方法:mouseup时 清掉自己和mousemove
```
$(document).mouseup(function(){
        $(document).off('mousemove')
        $(document).off('mouseup')
        // 清掉自己的原因 : mouseup 抬起后 在其他位置点击也会触发,清掉自己后不会触发
})
```
2. 拖拽完毕后,再次点击时又回到了初始位置
解决方法:定义$box2后 修改$box2的 css

3. 最后要阻止浏览器的默认行为 return false
> 写一个拖拽
```
$('#box').mousedown(function(ev){
    let $box2 = $('<div id = "boxShadow"></div>')
    $box2.css({
        left:$('#box').offset().left,
        top:$('#box').offset().top,
    })

    $(body).apend($box2)

    // disX等于当前位置-当前位置相对于box 的左半部分的长度
    let disX = ev.pageX - $('#box').offset().left
    let disY = ev.pageY - $('#box').offset().top

    $(document).mousemove(function(ev){

        // t= 当前位置-当前位置到box上方的距离
        let t = ev.pageY - disY;
        if(t<100){
            t = 0
        }


        $box2.css({
            left:ev.pageX- disX,
            top:ev.pageY - disY
        })

        $(document).mouseup(function(ev){
            $(document).off('mousemove')
            $(document).off('mouseup')
        })
    })
    return false

})
```

### 动画
>知识点
1. css中 transition  
```
tarnsition: .5s
```
2. animate()   
```
$('').animate({
      left:01  // height:01
    },02)   02时长走完01长度//高度
```
3. delay(time)  对队列中的下一项的执行设置延迟
``` 
$('').delay(1000).animate({},1000)
```
4. 一秒钟走一点

5. toggle()      改变宽高透明度的变化
```
// jq中动画 是堆列的  按照顺序
// 需要等待前一个运行完 再接着下一个
//  加个stop()  阻止前面动画执行

$('#btn').click(function(){
    $('#box').hide(1000);  
    //hide()  里面加数字时, 动画效果是慢慢变小颜色透明度也变化   改变宽高透明度

    $('#box').toggle(1000);

    $('#box').slideToggle(1000);
    // 改变高度慢慢隐藏

    $('#box').fadeToggle(1000);
    // 渐隐渐现
})
```
